

### 아키텍처란?
 -플로젝트에 참여하는 ___개발자___ 들이 ___설계에 대해 공유하는 이해___ 를 반영하는 ___주관적___ 인 개념
 - 아키텍처를 결정하는 포인트
   - 중요한 것
   - 변경하기 어려운 것
   - 일찍, 올바르게 결정하고 싶은 것
 - 아키텍쳐를 결정하는 포인튼 관심사 - 유사한책임
   - 서로 다르고 관련이 없는 책임들을 분리
   - 유사한 관심사들을 레이어로 나눠서 수직적으로 배열한 것 = > 레이어 아키텍처
   - 예시로 층층이 레이어가 나뉘어진 케이크에서 중간의 어떠한 빵을 다른 빵으로 교체해도 전체 시스템을 다른 환경에서도 사용이 가능하게끔.
   - 유연해지고 재사용성을 높인다.
   - 레이어 아키텍쳐
     - 3가지 관심사로 나눈다.
     1. Presentation : 화면 조작 또는 사용자의 입력을 처리하기 위해 모아놓은 레이어
     2. Domain : 비즈니스와 관련된 도메인 로직을 처리하는 레이어
     3. Data Source :  퍼스턴스가 주가 되지만 네트워킹도 포함이 된다. 우리 도메인에서 필요한 데이타 소스를 포함한 것들이 데이타 소스 레이어.
     - 레이어는 좀 더 세분화해서 더 많아질 수도 있다. 하지만 크게 3가지로 나뉜다.
     - 이 중 도메인 레이어가 가장 중요하다. -> 왜냐하면 그 시스템이 다른 시스템과 다른 경쟁력을 가질 수 있는 부분은 얼마나 도메인을 적절하게 시스템에 적용을 했느냐에 따라 다르기 때문이다.
     - 결과적으로 도메인 레이어를 설계하는 방법
       1. 전통적인 절차 지향 방법 (Transaction Script Pattern)
       2. 객체 지향 방법(Domain Model Pattern)
       3. 테이블 모듈 패턴 , 닷넷에서 많이 씀.
     
   - 도메인 레이어가 전체 아키텍쳐 구성을 주도한다.
   - ![img.png](img.png)
   - 이 도메인 레이어를 절차지향으로 짤것이냐 객체지향으로 짤 것이냐에 따라서 달라진다.
     - ex) 영화 예매 도메인
     1. 도메인 컨셉 - 영화
     2. 영화라는 개념이 있을 것이고, 예매를 하는 것이 영화가 아니고, 몇년 몇월 몇시에 상영하는 영화를 예매를 하는것이 아닌 상영이라는 개념을 예매를 하는것이다.
     3. 영화라는 개념과 상영이라는 개념 두가지가 생긴다.
     4. 할인이라고 하는것 개념이 있다. 할인에 인해서 사람이 몰리거나 빠지거나 하는 상품의 밸런스를 맞춘다. 여기서 할인정 책이라는 것이 생긴다고 보자.
     5. 할인 또한 두가지 방식이 있다고 하자. 어마운트 디스카운트 절대금액을 빼주는 정책과 퍼센티지 "%"로 계산해서 빼주는 정책이 있다고 하자.
     6. 할인 규칙이 또한 있다고 치자. 언제 빼줄 것이냐 . 몇 회 상영일 때 해줄것이냐와 어느 시간때에 영화를 할인 해준다는 두가지 규칙이 있다고 가정하자.
     7. 룰은 언제 어떤 조건에 만족할 때 이사람의 금액을 빼줄 것이냐, 조건에 만족했을때 얼마만큼 빼줄것이냐를 결정하는 것이라고 보자. 
     8. 도메인 컨셉- 할인정책 - 할인 규칙  movie > discount > rule
     9. 이끼 8000원 -> 절대 금액 DC 800원 할인 -> 조건은  조조 상영인 경우, 10회 상영인 경우, 월요일 10:00~12:00 상영인 경우, 목요일 18~21 상영인 경우
     10. Domain Concept - 할인 적용
     11. 이끼 8,000원 -> Amount DC 800원 -> 조조 상영인 경우 , 10회 상영인 경우, 월요일 10~12시 혹은 목요일 14~21시 상영인 경우
     12. 상영정보는 2010년 12월 25일 목요일 18~20:00(7회차)  조조 X, 10회 상영X, 월요일X , 목요일에 적합하여 7,200원 이다.
     13. Domain Concept - 예매 
         1. 제목 : 이끼 
         2. 상영정보 : 2010년 12월 25일 (목) 7회 06:00(오후) - 08:00(오후)
         3. 인원 : 2명
         4. 정가 : 16,000원
         5. 결제 금액 14,400원
     14. 개념 또는 후보 객체
     15. 영화는 여러개의 상영을 가진다. 예매는 상영과 연결되어 있다.
     16. 영화는 하나 또는하나 또는 그 이상의 할인정책을 갖는다. 룰이 하나부터 N개까지 가질 수 있다.
     17. 